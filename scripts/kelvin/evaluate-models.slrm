#!/bin/bash
#SBATCH --ntasks=1                         # Number of workers.
#SBATCH --cpus-per-task=16
#SBATCH -J recon-mask
#SBATCH --mem=40GB                          # Job Memory.
#SBATCH -p t4v2
#SBATCH --gres=gpu:1                       # Number of GPUs.
#SBATCH -o /h/kelvin/exps/%J.out             # Where to save the output.
#SBATCH --qos high                          # Up to 4 GPUs  with qos=high
#SBATCH --mail-user=kelvinwong@cs.toronto.edu
#SBATCH --mail-type=ALL

echo Running on $(hostname)
source /h/kelvin/.bashrc
. /h/kelvin/envs/cuda10.env
conda activate tsmp-cuda10

export RAY_TEMP_DIR="/h/kelvin/scratch"

cd /h/kelvin/projects/mcts_planner/tsp/muzero-general

# python benchmark.py --env highway_env_ttc_flat --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/highway_env_ttc_flat/2021-04-11--19-36-02/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
# python benchmark.py --env highway_env_ttc_flat_recon --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/highway_env_ttc_flat_recon/2021-04-11--00-28-17/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
# python benchmark.py --env highway_env_ttc_flat_recon_mask --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/highway_env_ttc_flat_recon_mask/2021-04-11--00-29-16/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
# python benchmark.py --env highway_env_ttc_flat_az --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/highway_env_ttc_flat_az/2021-04-12--02-58-31/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
# python benchmark.py --env highway_env_ttc_flat_az_learned_dynamics --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/highway_env_ttc_flat_az_learned_dynamics/2021-04-11--20-05-22/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations

python benchmark.py --env roundabout_env_ttc_flat --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/roundabout_env_ttc_flat/2021-04-10--19-10-31/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
python benchmark.py --env roundabout_env_ttc_flat_recon --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/roundabout_env_ttc_flat_recon/2021-04-10--19-10-27/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
python benchmark.py --env roundabout_env_ttc_flat_recon_mask --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/roundabout_env_ttc_flat_recon_mask/2021-04-10--19-10-20/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
python benchmark.py --env roundabout_env_ttc_flat_az --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/roundabout_env_ttc_flat_az/2021-04-10--19-10-18/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
python benchmark.py --env roundabout_env_ttc_flat_az_learned_dynamics --checkpoint /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/checkpoints/roundabout_env_ttc_flat_az_learned_dynamics/2021-04-11--20-05-12/model.checkpoint --n_episodes 50 --output_path /scratch/ssd002/home/kelvin/projects/mcts_planner/tsp/evaluations
